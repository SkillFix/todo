var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,r=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),u=Object.prototype.toString,f=Math.max,d=Math.min,g=function(){return c.Date.now()};function p(t,e,n){var o,a,i,r,l,s,c=0,u=!1,p=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var n=o,i=a;return o=a=void 0,c=e,r=t.apply(i,n)}function S(t){return c=t,l=setTimeout(h,e),u?b(t):r}function k(t){var n=t-s;return void 0===s||n>=e||n<0||p&&t-c>=i}function h(){var t=g();if(k(t))return T(t);l=setTimeout(h,function(t){var n=e-(t-s);return p?d(n,i-(t-c)):n}(t))}function T(t){return l=void 0,m&&o?b(t):(o=a=void 0,r)}function w(){var t=g(),n=k(t);if(o=arguments,a=this,s=t,n){if(void 0===l)return S(s);if(p)return l=setTimeout(h,e),b(s)}return void 0===l&&(l=setTimeout(h,e)),r}return e=y(e)||0,v(n)&&(u=!!n.leading,i=(p="maxWait"in n)?f(y(n.maxWait)||0,e):i,m="trailing"in n?!!n.trailing:m),w.cancel=function(){void 0!==l&&clearTimeout(l),c=0,o=s=a=l=void 0},w.flush=function(){return void 0===l?r:T(g())},w}function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==u.call(t)}(t))return NaN;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var l=a.test(t);return l||i.test(t)?r(t.slice(2),l?2:8):o.test(t)?NaN:+t}e=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return v(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),p(t,e,{leading:o,maxWait:e,trailing:a})};const m=document.querySelector("#newTask"),b=document.querySelector(".todo-list"),S=document.querySelector("#clearList"),k=document.querySelector(".newtask-box"),h=document.querySelector("#char_count");function T(){return null==localStorage.getItem("todoList")?[]:JSON.parse(localStorage.getItem("todoList"))}function w(){const t=T().length;S.style.display=t>0?"block":"none"}function L(){b.innerHTML="";const t=T();w(),t.forEach((({value:t,state:e},n)=>{b.insertAdjacentHTML("beforeend",`\n      <li class="task-item">\n      <p class="${e}">${t}</p>\n      <div class="task-item__wrapper">\n      <input type="button" class="confirmTask" data-taskId=${n} value="Completed">\n      <input type="button" class="deleteTask" data-taskId=${n} value="Delete">\n      </div>\n    </li>`)}))}console.log(T()),w(),m.addEventListener("input",e((function(){let t=this.value;localStorage.setItem("task-state",JSON.stringify({newTask:t}))}),500)),localStorage.getItem("task-state")&&function(){const t=JSON.parse(localStorage.getItem("task-state"));try{for(let e in t)k[e].value=t[e]}catch(t){console.log("error",t)}}(),m.addEventListener("keydown",(t=>{if(m.value.length<=100&&N(),"Enter"!==t.key)return;let e=T();e||(e=[]),e.push({value:t.target.value,state:"pending"});const n=JSON.stringify(e);localStorage.setItem("todoList",n),t.target.value="",L()})),L(),S.addEventListener("click",(()=>{localStorage.setItem("todoList","[]"),L(),w()})),b.addEventListener("click",(t=>{"deleteTask"===t.target.className&&I(t.target.dataset.taskid),"confirmTask"===t.target.className&&O(t.target.dataset.taskid)}));const O=t=>{const e=T();e[t]={...e[t],state:"done"},localStorage.setItem("todoList",JSON.stringify(e)),L()},I=t=>{const e=T();e.splice(t,1),localStorage.setItem("todoList",JSON.stringify(e)),L(),w()},N=()=>{let t=100-m.value.length;h.textContent=t+"/100"};
//# sourceMappingURL=index.8dd58d2e.js.map
